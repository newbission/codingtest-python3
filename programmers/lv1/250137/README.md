# [\[PCCP 기출문제\] 1번 / 붕대 감기](https://school.programmers.co.kr/learn/courses/30/lessons/250137)

## 개요
> ### 문제
> 어떤 게임에는 `붕대 감기`라는 기술이 있습니다.
>
> `붕대 감기`는 `t`초 동안 붕대를 감으면서 1초마다 `x`만큼의 체력을 회복합니다. `t`초 연속으로 붕대를 감는 데 성공한다면 `y`만큼의 체력을 추가로 회복합니다. 게임 캐릭터에는 최대 체력이 존재해 현재 체력이 최대 체력보다 커지는 것은 불가능합니다.
> 
> 기술을 쓰는 도중 몬스터에게 공격을 당하면 기술이 취소되고, 공격을 당하는 순간에는 체력을 회복할 수 없습니다. 몬스터에게 공격당해 기술이 취소당하거나 기술이 끝나면 그 즉시 `붕대 감기`를 다시 사용하며, 연속 성공 시간이 0으로 초기화됩니다.
>
> 몬스터의 공격을 받으면 정해진 피해량만큼 현재 체력이 줄어듭니다. 이때, 현재 체력이 0 이하가 되면 캐릭터가 죽으며 더 이상 체력을 회복할 수 없습니다.
>
> 당신은 `붕대 감기` 기술의 정보, 캐릭터가 가진 최대 체력과 몬스터의 공격 패턴이 주어질 때 캐릭터가 끝까지 생존할 수 있는지 궁금합니다.
> 
> `붕대 감기` 기술의 시전 시간, 1초당 회복량, 추가 회복량을 담은 1차원 정수 배열 `bandage`와 최대 체력을 의미하는 정수 `health`, 몬스터의 공격 시간과 피해량을 담은 2차원 정수 배열 `attacks`가 매개변수로 주어집니다. 모든 공격이 끝난 직후 남은 체력을 `return` 하도록 `solution` 함수를 완성해 주세요. 만약 몬스터의 공격을 받고 캐릭터의 체력이 0 이하가 되어 죽는다면 `-1`을 `return` 해주세요.
>
> 요약: `붕대 감기`기술을 `t`초 만큼 쓰면 1초마다 `x`만큼의 체력을 회복하며 `t`초 성공시 `y`만큼 추가 회복.  
> 몬스터에게 공격을 당하면 기술이 즉시 취소되며 기술의 쿨타임은 없다.  
> 모든 공격이 끝난 뒤 남은 체력을 `return`하는데 남은 체력이 0이하면 `-1`을 `return`.  
> #### [입력조건]
> `bandage`: `[t, x, y]`  
> `health`: `최대 체력`  
> `attacks`: `[[몬스터 공격 시간, 피해량],...]`

> # 주요 제한사항
> - `attacks`는 `공격 시간`을 기준으로 오름차순 정렬
> - `공격 시간`은 모두 다르다.
> - 공격을 당할 땐 체력회복 불가 $\to$ 시전 완료 시간과 겹치면 공격 우선

<h1 align="center"><br><br><br>❗️❗️ 스포주의 ❗️❗️<br><br><br></h1>

## 풀이
### 접근
- 몬스터의 다음 공격시간 과 현재시간 차이 계산
  - 시전 완료 시간 \< 차이 $\to$ 시전 완료 시간 X 회복량 + 추가 회복량
  - 시전 완료 시간 \> 차이 $\to$ 차이 X 회복량 - 피해량
  - (시전 완료 시간 // 차이 X 추가 회복량) + (차이 X 회복량) - 피해량

### 코드
```python
def solution(bandage, health, attacks):
    t, x, y = bandage
    current_health = health
    # 초기에는 최대 체력이므로 첫 공격 시간으로 시작 시간 설정
    time = attacks[0][0] 

    for atk_time, damage in attacks:
        # 시간 차이 구하기
        time_diff = atk_time - time
        # 총 회복량 구하기
        recovery = (time_diff // t * y) + (time_diff * x)
        # 최종 체력 구하기
        current_health = min(health, current_health + recovery) - damage
        # 체력이 0 이하면 -1 리턴
        if current_health <= 0:
            return -1
        time = atk_time + 1
    return current_health
```

### 설명
1. 초기에는 최대 체력이므로 시작을 첫 공격 시간으로 설정
2. 각 공격별로 순회
   1. 시간 차이 구하기
   2. 차이에 따른 회복량 구하기
   3. 회복량 및 데미지 적용한 체력 구하기
   4. 체력 여부에 따라서 종료 or 이어서 하기
3. 남은 체력 리턴